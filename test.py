from retriever.langchain_chroma import count_documents, add_documents_from_json, create_collection, remove_all_documents, search_documents
# from retriever.langchain_chroma_new import count_documents, add_documents_from_json, create_collection, remove_all_documents, search_documents
# from retriever.langchain_chroma_two import count_documents, add_documents_from_json, create_collection, remove_all_documents, search_documents

json_file_path = "./tayyor_json/rasmiy_statistika_togrisida_qonun.json"
# json_file_path = "./tayyor_json/kadrlar_malakasini_oshirish.json"
# json_file_path = "./tayyor_json/rasmiy_statistikani_tayyorlash _va_tarqatish.json"
# json_file_path = "./tayyor_json/greet.json"
# json_file_path = "./tayyor_json/gender.json"
# json_file_path = "./tayyor_json/statistika_ishlsalomarini_tashkil_etish_va_yuritish.json"
# json_file_path = "./tayyor_json/davlat_va_bojxona_tashqi_savdo.json"
# json_file_path = "./tayyor_json/qumitasi_faoliyatini_tashkil_etish_pq75.json"
# json_file_path = "./tayyor_json/statistika_tizimini_salohiyatini_mustahkamlash.json"
# json_file_path = "./tayyor_json/davlat_va_bojxona_tashqi_savdo.json"


# rasmiy_statistika_togrisida_qonun_en_json = "./tayyor_json/rasmiy_statistika_togrisida_qonun_en.json"



# tekshirishga_json = "./tayyor_json/tekshirishga.json"


# Yangi collection yaratish
# create_collection()

# Barcha hujjatlarning sonini ko'rish
print(f"Jami hujjatlar soni: {count_documents()}")

# Avval barcha hujjatlarni o'chirish
remove_all_documents()
create_collection()

# JSON fayldan ma'lumotlarni o'qib ChromaDB ga qo'shish
add_documents_from_json(json_file_path)

# Barcha hujjatlarning sonini ko'rish
print(f"Jami hujjatlar soni: {count_documents()}")

['O‘zbekiston Respublikasining Rasmiy statistika to‘g‘risidagi qonun. 4-bob. Statistika dasturlari, kuzatuvlari va registrlari, ro‘yxatga olishlar, ularni tuzish va tasdiqlash tartibi. 23-modda. Statistika kuzatuvlari. Statistika kuzatuvlari respondentlarning individual va boshqa ma’lumotlarini birlamchi yig‘ish jarayonlari bo‘lib, bu jarayonlar rasmiy statistikani tayyorlovchilar tomonidan statistika uslubiyatlaridan foydalangan holda, statistika maqsadlarida amalga oshiriladi. Statistika kuzatuvlari yalpi va tanlanma bo‘lishi mumkin, shuningdek statistika dasturlariga muvofiq amalga oshirilishi kerak. Yalpi statistika kuzatuvlari vakolatli davlat organi tomonidan tasdiqlanadigan statistika hisoboti shakllari asosida o‘tkaziladi. Tanlanma statistika kuzatuvlari rasmiy statistikani tayyorlovchilar tomonidan tasdiqlangan statistika kuzatuvlari shakllari asosida o‘tkaziladi. Rasmiy statistikani tayyorlovchilar tomonidan o‘tkaziladigan tanlanma statistika kuzatuvlarida respondentlar va uy xo‘jaliklari ixtiyoriy asosda ishtirok etadi.', 'O‘zbekiston Respublikasi Vazirlar Mahkamasining qarori. Rasmiy statistikani tayyorlash va tarqatish jarayonlariga autsorsing mexanizmlarini joriy etish to‘g‘risida. Vazirlar Mahkamasining 2025-yil 25-fevraldagi 116-son qaroriga ILOVA - Rasmiy statistikani tayyorlovchilar tomonidan statistika kuzatuvlarini amalga oshirish jarayoniga statistika kuzatuvchilarini autsorsing shartlari asosida jalb etish tartibi to‘g‘risida NIZOM. 5-bob. Statistika kuzatuvchisini hamda buyurtmachining huquqlari va majburiyatlari. 19. Statistika kuzatuvchisining majburiyatlari quyidagilardan iborat: statistika kuzatuvini amalga oshirish uslubiyoti, maqsadi, vazifalari va qoidalariga qat’iy rioya qilish (statistika kuzatuvlarini amalga oshirish usullari buyurtmachi tomonidan respublika bo‘yicha yalpi yoki ma’lum bir hudud, tarmoq, soha va yo‘nalishlar bo‘yicha tanlanma usulda o‘tkazilishi belgilanishi mumkin); shtatida yetarli ish tajribasiga va ko‘nikmaga ega xodimlar bo‘lishi (eng kamida 1 ta iqtisodiy, statistika yoki sotsiologiya mutaxassisligiga ega oliy ma’lumotli hamda kamida 3 yil ish stajiga ega xodim bo‘lishi); statistika kuzatuvchisi xodimlarini statistika kuzatuvini amalga oshirish tartibi va tamoyillari, maqsadi, vazifalari, ahamiyati, tashkiliy hamda uslubiy asoslari bo‘yicha bilimga ega bo‘lishi uchun har ikki yilda Statistika agentligi huzuridagi Kadrlar malakasini oshirish va statistik tadqiqotlar institutida malakasini oshirish; statistika kuzatuvini tashkil etish va amalga oshirishda, buyurtmachi tomonidan statistika kuzatuvi amalga oshirilishi belgilangan hudud, kuzatuvga jalb etiladigan respondentlar soni to‘liq qamrab olinishini ta’minlash hamda kuzatuvni yakunlash muddatiga qat’iy rioya qilish; statistika kuzatuvini amalga oshirishda mehnat muhofazasi qoidalariga qat’iy amal qilish; statistika kuzatuvini belgilangan tartibda va muddatlarda sifatli tashkil etish hamda amalga oshirish, kuzatuv natijalari bo‘yicha ma’lumotlarni buyurtmachiga belgilangan muddatda taqdim qilish; taqdim etilgan ma’lumotlar to‘liq bo‘lmagan, sifatsiz yoki belgilangan talablarga javob bermagan hollarda, buyurtmachi tomonidan qaytarilgan ma’lumotlarni zudlik bilan bartaraf etish va tuzatish kiritilgan ma’lumotlarni buyurtmachiga qayta taqdim etish (muddat buyurtmachi bilan kelishgan holda); statistika kuzatuvini amalga oshirish davrida yoki kuzatuv tugagandan keyin ham belgilangan tartibda axborot maxfiyligiga (birlamchi ma’lumotlarning, shuningdek, shaxsga doir ma’lumotlarning oshkor etilmasligiga) qat’iy rioya etish; shartnomani bekor qilish haqida buyurtmachini ikki oy oldin yozma ravishda ogohlantirishi, ushbu muddat tugaguniga qadar esa buyurtmachining tegishli xizmatlarini uzluksiz tashkil etishni ta’minlashi lozim.Statistika kuzatuvchiga qonunchilik hujjatlariga va shartnomaga muvofiq boshqa majburiyatlar ham yuklanishi mumkin.', 'O‘zbekiston Respublikasi Vazirlar Mahkamasining qarori. Rasmiy statistikani tayyorlash va tarqatish jarayonlariga autsorsing mexanizmlarini joriy etish to‘g‘risida. Vazirlar Mahkamasining 2025-yil 25-fevraldagi 116-son qaroriga ILOVA - Rasmiy statistikani tayyorlovchilar tomonidan statistika kuzatuvlarini amalga oshirish jarayoniga statistika kuzatuvchilarini autsorsing shartlari asosida jalb etish tartibi to‘g‘risida NIZOM. 5-bob. Statistika kuzatuvchisini hamda buyurtmachining huquqlari va majburiyatlari. 19. Statistika kuzatuvchisining majburiyatlari quyidagilardan iborat: statistika kuzatuvini amalga oshirish uslubiyoti, maqsadi, vazifalari va qoidalariga qat’iy rioya qilish (statistika kuzatuvlarini amalga oshirish usullari buyurtmachi tomonidan respublika bo‘yicha yalpi yoki ma’lum bir hudud, tarmoq, soha va yo‘nalishlar bo‘yicha tanlanma usulda o‘tkazilishi belgilanishi mumkin); shtatida yetarli ish tajribasiga va ko‘nikmaga ega xodimlar bo‘lishi (eng kamida 1 ta iqtisodiy, statistika yoki sotsiologiya mutaxassisligiga ega oliy ma’lumotli hamda kamida 3 yil ish stajiga ega xodim bo‘lishi); statistika kuzatuvchisi xodimlarini statistika kuzatuvini amalga oshirish tartibi va tamoyillari, maqsadi, vazifalari, ahamiyati, tashkiliy hamda uslubiy asoslari bo‘yicha bilimga ega bo‘lishi uchun har ikki yilda Statistika agentligi huzuridagi Kadrlar malakasini oshirish va statistik tadqiqotlar institutida malakasini oshirish; statistika kuzatuvini tashkil etish va amalga oshirishda, buyurtmachi tomonidan statistika kuzatuvi amalga oshirilishi belgilangan hudud, kuzatuvga jalb etiladigan respondentlar soni to‘liq qamrab olinishini ta’minlash hamda kuzatuvni yakunlash muddatiga qat’iy rioya qilish;', 'O‘zbekiston Respublikasi Vazirlar Mahkamasining qarori. Rasmiy statistikani tayyorlash va tarqatish jarayonlariga autsorsing mexanizmlarini joriy etish to‘g‘risida. Vazirlar Mahkamasining 2025-yil 25-fevraldagi 116-son qaroriga ILOVA - Rasmiy statistikani tayyorlovchilar tomonidan statistika kuzatuvlarini amalga oshirish jarayoniga statistika kuzatuvchilarini autsorsing shartlari asosida jalb etish tartibi to‘g‘risida NIZOM. 5-bob. Statistika kuzatuvchisini hamda buyurtmachining huquqlari va majburiyatlari. 18. Statistika kuzatuvchisi quyidagi huquqlarga ega: statistika kuzatuvini amalga oshirish bo‘yicha buyurtmachi tomonidan belgilangan tartib, ya’ni kuzatuvlarni amalga oshirish uslubiyoti, maqsadi, vazifalari va qoidalari bilan tanishish; buyurtmachidan statistika kuzatuvi amalga oshiriladigan hudud, kuzatuvga jalb etiladigan respondentlar soni va ro‘yxati hamda kuzatuvni yakunlash muddati to‘g‘risidagi ma’lumotlarni olish; ko‘rsatilgan xizmatlar uchun to‘lovni shartnomada belgilangan miqdor va muddatda talab qilish; xizmatlar tannarxining o‘zgarishi munosabati bilan shartnomaga o‘zgartirish kiritish taklifi bilan chiqish; buyurtmachidan shartnoma shartlarining bajarilishini talab qilish; Statistika kuzatuvchisi qonunchilik hujjatlariga hamda shartnomaga muvofiq boshqa huquqlarga ham ega bo‘lishi mumkin.', 'O‘zbekiston Respublikasi Vazirlar Mahkamasining qarori. Rasmiy statistikani tayyorlash va tarqatish jarayonlariga autsorsing mexanizmlarini joriy etish to‘g‘risida. Vazirlar Mahkamasining 2025-yil 25-fevraldagi 116-son qaroriga ILOVA - Rasmiy statistikani tayyorlovchilar tomonidan statistika kuzatuvlarini amalga oshirish jarayoniga statistika kuzatuvchilarini autsorsing shartlari asosida jalb etish tartibi to‘g‘risida NIZOM. 5-bob. Statistika kuzatuvchisini hamda buyurtmachining huquqlari va majburiyatlari. 19. Statistika kuzatuvchisining majburiyatlari quyidagilardan iborat: statistika kuzatuvini amalga oshirishda mehnat muhofazasi qoidalariga qat’iy amal qilish; statistika kuzatuvini belgilangan tartibda va muddatlarda sifatli tashkil etish hamda amalga oshirish, kuzatuv natijalari bo‘yicha ma’lumotlarni buyurtmachiga belgilangan muddatda taqdim qilish; taqdim etilgan ma’lumotlar to‘liq bo‘lmagan, sifatsiz yoki belgilangan talablarga javob bermagan hollarda, buyurtmachi tomonidan qaytarilgan ma’lumotlarni zudlik bilan bartaraf etish va tuzatish kiritilgan ma’lumotlarni buyurtmachiga qayta taqdim etish (muddat buyurtmachi bilan kelishgan holda); statistika kuzatuvini amalga oshirish davrida yoki kuzatuv tugagandan keyin ham belgilangan tartibda axborot maxfiyligiga (birlamchi ma’lumotlarning, shuningdek, shaxsga doir ma’lumotlarning oshkor etilmasligiga) qat’iy rioya etish; shartnomani bekor qilish haqida buyurtmachini ikki oy oldin yozma ravishda ogohlantirishi, ushbu muddat tugaguniga qadar esa buyurtmachining tegishli xizmatlarini uzluksiz tashkil etishni ta’minlashi lozim.Statistika kuzatuvchiga qonunchilik hujjatlariga va shartnomaga muvofiq boshqa majburiyatlar ham yuklanishi mumkin.', 'O‘zbekiston Respublikasining Rasmiy statistika to‘g‘risidagi qonun. 4-bob. Statistika dasturlari, kuzatuvlari va registrlari, ro‘yxatga olishlar, ularni tuzish va tasdiqlash tartibi. 25-modda. Statistika registrlari. Statistika maqsadlarida foydalanish uchun zarur bo‘lgan statistika birliklarining va ular tavsiflarining ro‘yxatlari, shu jumladan identifikatorlar statistika registrlaridir. Jismoniy va yuridik shaxslar to‘g‘risidagi registrlarni va ma’lumotlar bazalarini yaratadigan hamda yuritadigan davlat organlari va ularning tasarrufidagi tashkilotlar rasmiy statistikani tayyorlovchilarga statistika registrlarini shakllantirish hamda o‘z vaqtida yangilash uchun zarur bo‘lgan axborotni bepul taqdim etadi.', 'O‘zbekiston Respublikasi Vazirlar Mahkamasining qarori. Rasmiy statistikani tayyorlash va tarqatish jarayonlariga autsorsing mexanizmlarini joriy etish to‘g‘risida. Vazirlar Mahkamasining 2025-yil 25-fevraldagi 116-son qaroriga ILOVA - Rasmiy statistikani tayyorlovchilar tomonidan statistika kuzatuvlarini amalga oshirish jarayoniga statistika kuzatuvchilarini autsorsing shartlari asosida jalb etish tartibi to‘g‘risida NIZOM. 5-bob. Statistika kuzatuvchisini hamda buyurtmachining huquqlari va majburiyatlari. 22. Buyurtmachi majburiyatlari quyidagilardan iborat: autsorsing shartlari asosida tashkil etiladigan statistika kuzatuvlarini amalga oshirish uslubiyotini ishlab chiqish, kuzatuvlar hajmini va kuzatish muddatini belgilash; statistika kuzatuvchisini statistika kuzatuvini amalga oshirish tartiblari, maqsadi, vazifalari, ahamiyati, tashkiliy va uslubiy asoslari bilan tanishtirish bo‘yicha o‘qitish; statistika kuzatuvchisini elektron qurilma (planshet) orqali amalga oshiriladigan statistika kuzatuvi shakli bo‘yicha dasturiy mahsulot bilan ta’minlash; statistika kuzatuvchisini statistika kuzatuvi amalga oshiriladigan hudud, kuzatuvga jalb etiladigan respondentlar soni va ro‘yxati hamda kuzatuvni yakunlash muddati to‘g‘risidagi ma’lumotlar hamda kuzatuvni amalga oshirish uslubiyoti bilan ta’minlash; ko‘rsatilgan xizmatlar uchun shartnomada belgilangan miqdor va muddatda to‘lovni amalga oshirish. Buyurtmachi tomonidan statistika kuzatuvlariga jalb etiladigan respondentlar ro‘yxatini tuzishda zarur hollarda (kuzatuvda ishtirok etishdan bosh tortish, manzilda bo‘lmaslik va boshqalar) ularni almashtirish imkonini beruvchi qo‘shimcha zaxira ro‘yxat ham shakllantirilishi ko‘zda tutilishi lozim.', 'O‘zbekiston Respublikasi Vazirlar Mahkamasining qarori. Rasmiy statistikani tayyorlash va tarqatish jarayonlariga autsorsing mexanizmlarini joriy etish to‘g‘risida. Vazirlar Mahkamasining 2025-yil 25-fevraldagi 116-son qaroriga ILOVA - Rasmiy statistikani tayyorlovchilar tomonidan statistika kuzatuvlarini amalga oshirish jarayoniga statistika kuzatuvchilarini autsorsing shartlari asosida jalb etish tartibi to‘g‘risida NIZOM. 2-bob. Statistika kuzatuvlarini autsorsing shartlari asosida tashkil etish.4. Rasmiy statistikani tayyorlovchilar Statistika dasturi doirasida amalga oshiriladigan statistika kuzatuvlarining, shuningdek, Statistika dasturiga kiritilmagan statistika kuzatuvlarining (ro‘yxatga olish, bir martalik hisobga olish, tanlanma so‘rovlar) to‘liq yoki bir qismini autsorsing shartlari asosida amalga oshirishlari mumkin (statistika hisobotlari va statistika hisobotlarini taqdim etishning onlayn tizimidan (yeStat) foydalangan holda amalga oshiriladigan tanlanma statistika kuzatuvlari bundan mustasno).', 'O‘zbekiston Respublikasi Vazirlar Mahkamasining qarori. Rasmiy statistikani tayyorlash va tarqatish jarayonlariga autsorsing mexanizmlarini joriy etish to‘g‘risida. Vazirlar Mahkamasining 2025-yil 25-fevraldagi 116-son qaroriga ILOVA - Rasmiy statistikani tayyorlovchilar tomonidan statistika kuzatuvlarini amalga oshirish jarayoniga statistika kuzatuvchilarini autsorsing shartlari asosida jalb etish tartibi to‘g‘risida NIZOM. 2-bob. Statistika kuzatuvlarini autsorsing shartlari asosida tashkil etish.6. Autsorsing asosida tashkil etiladigan statistika kuzatuvlari respublika bo‘yicha yalpi yoki ma’lum bir hudud, tarmoq, soha va yo‘nalishlar bo‘yicha tanlanma usulda amalga oshirilishi mumkin.Autsorsing asosida tashkil etiladigan statistika kuzatuvlari ko‘lami rasmiy statistikani tayyorlovchilar tomonidan o‘z vakolatlari doirasida mustaqil ravishda belgilanadi.', 'O‘zbekiston Respublikasining Rasmiy statistika to‘g‘risidagi qonun. 4-bob. Statistika dasturlari, kuzatuvlari va registrlari, ro‘yxatga olishlar, ularni tuzish va tasdiqlash tartibi. 19-modda. Statistika dasturlari. Vakolatli davlat organi rasmiy statistikaning boshqa tayyorlovchilari, rasmiy statistikadan foydalanuvchilar, respondentlar va ma’muriy ma’lumotlarni yetkazib beruvchilar bilan hamkorlikda statistika dasturlarining tayyorlanishini ta’minlaydi. Statistika dasturlari ko‘rib chiqish uchun Statistika kengashiga kiritiladi. Vakolatli davlat organi milliy statistika tizimiga kiruvchi rasmiy statistikaning boshqa tayyorlovchilari bilan birgalikda statistika dasturlarining bajarilishini ta’minlaydi. Statistika dasturlari ko‘p yillik va bir yillik bo‘lishi mumkin.']